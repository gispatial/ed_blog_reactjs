{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseKontentResponseArrayDebug = exports.BaseKontentResponseStandardDebug = exports.BaseKontentResponse = void 0;\nvar staleContentHeaderName = 'X-Stale-Content';\n\nfunction getHasStaleContent(response) {\n  var hasStaleContentHeader = response.headers.find(function (m) {\n    return m.header.toLowerCase() === staleContentHeaderName.toLowerCase();\n  });\n\n  if (hasStaleContentHeader) {\n    if (hasStaleContentHeader.value.toString() === '1') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getResponseDebug(response) {\n  return {\n    response: response.response,\n    headers: response.headers,\n    status: response.status\n  };\n}\n\nvar BaseKontentResponse =\n/** @class */\nfunction () {\n  function BaseKontentResponse() {}\n\n  return BaseKontentResponse;\n}();\n\nexports.BaseKontentResponse = BaseKontentResponse;\n\nvar BaseKontentResponseStandardDebug =\n/** @class */\nfunction (_super) {\n  __extends(BaseKontentResponseStandardDebug, _super);\n\n  function BaseKontentResponseStandardDebug(response, isDeveloperMode) {\n    var _this = _super.call(this) || this;\n\n    _this.hasStaleContent = getHasStaleContent(response);\n    _this.isDeveloperMode = isDeveloperMode;\n\n    if (isDeveloperMode) {\n      _this.debug = getResponseDebug(response);\n    }\n\n    return _this;\n  }\n\n  return BaseKontentResponseStandardDebug;\n}(BaseKontentResponse);\n\nexports.BaseKontentResponseStandardDebug = BaseKontentResponseStandardDebug;\n\nvar BaseKontentResponseArrayDebug =\n/** @class */\nfunction (_super) {\n  __extends(BaseKontentResponseArrayDebug, _super);\n\n  function BaseKontentResponseArrayDebug(responses, isDeveloperMode) {\n    var _this = _super.call(this) || this;\n\n    _this.debug = [];\n    /**\r\n     * Always false for joined response data\r\n     */\n\n    _this.hasStaleContent = false;\n    _this.isDeveloperMode = isDeveloperMode;\n\n    if (isDeveloperMode) {\n      for (var _i = 0, responses_1 = responses; _i < responses_1.length; _i++) {\n        var response = responses_1[_i];\n\n        if (_this.debug) {\n          _this.debug.push(getResponseDebug(response));\n        }\n      }\n    }\n\n    return _this;\n  }\n\n  return BaseKontentResponseArrayDebug;\n}(BaseKontentResponse);\n\nexports.BaseKontentResponseArrayDebug = BaseKontentResponseArrayDebug;","map":{"version":3,"sources":["../../../lib/models/common/base-responses.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,IAAM,sBAAsB,GAAW,iBAAvC;;AAEA,SAAS,kBAAT,CAA4B,QAA5B,EAAwD;AACpD,MAAM,qBAAqB,GAAG,QAAQ,CAAC,OAAT,CAAiB,IAAjB,CAC1B,UAAA,CAAA,EAAC;AAAI,WAAA,CAAC,CAAC,MAAF,CAAS,WAAT,OAA2B,sBAAsB,CAAjD,WAA2B,EAA3B;AAA+D,GAD1C,CAA9B;;AAIA,MAAI,qBAAJ,EAA2B;AACvB,QAAI,qBAAqB,CAAC,KAAtB,CAA4B,QAA5B,OAA2C,GAA/C,EAAoD;AAChD,aAAO,IAAP;AACH;AACJ;;AACD,SAAO,KAAP;AACH;;AAED,SAAS,gBAAT,CAA0B,QAA1B,EAAsD;AAClD,SAAO;AACH,IAAA,QAAQ,EAAE,QAAQ,CAAC,QADhB;AAEH,IAAA,OAAO,EAAE,QAAQ,CAAC,OAFf;AAGH,IAAA,MAAM,EAAE,QAAQ,CAAC;AAHd,GAAP;AAKH;;AAED,IAAA,mBAAA;AAAA;AAAA,YAAA;AAMI,WAAA,mBAAA,GAAA,CACC;;AACL,SAAA,mBAAA;AAAC,CARD,EAAA;;AAAsB,OAAA,CAAA,mBAAA,GAAA,mBAAA;;AAUtB,IAAA,gCAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAsD,EAAA,SAAA,CAAA,gCAAA,EAAA,MAAA,CAAA;;AAMlD,WAAA,gCAAA,CAAY,QAAZ,EAA0C,eAA1C,EAAkE;AAAlE,QAAA,KAAA,GACI,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IADX;;AAEI,IAAA,KAAI,CAAC,eAAL,GAAuB,kBAAkB,CAAC,QAAD,CAAzC;AACA,IAAA,KAAI,CAAC,eAAL,GAAuB,eAAvB;;AAEA,QAAI,eAAJ,EAAqB;AACjB,MAAA,KAAI,CAAC,KAAL,GAAa,gBAAgB,CAAC,QAAD,CAA7B;AACH;;;AACJ;;AACL,SAAA,gCAAA;AAAC,CAfD,CAAsD,mBAAtD,CAAA;;AAAa,OAAA,CAAA,gCAAA,GAAA,gCAAA;;AAiBb,IAAA,6BAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAmD,EAAA,SAAA,CAAA,6BAAA,EAAA,MAAA,CAAA;;AAS/C,WAAA,6BAAA,CAAY,SAAZ,EAA6C,eAA7C,EAAqE;AAArE,QAAA,KAAA,GACI,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IADX;;AAPgB,IAAA,KAAA,CAAA,KAAA,GAAkC,EAAlC;AAChB;;AAEG;;AACa,IAAA,KAAA,CAAA,eAAA,GAA2B,KAA3B;AAKZ,IAAA,KAAI,CAAC,eAAL,GAAuB,eAAvB;;AAEA,QAAI,eAAJ,EAAqB;AACjB,WAAuB,IAAA,EAAA,GAAA,CAAA,EAAA,WAAA,GAAA,SAAvB,EAAuB,EAAA,GAAA,WAAA,CAAA,MAAvB,EAAuB,EAAA,EAAvB,EAAkC;AAA7B,YAAM,QAAQ,GAAA,WAAA,CAAA,EAAA,CAAd;;AACD,YAAI,KAAI,CAAC,KAAT,EAAgB;AACZ,UAAA,KAAI,CAAC,KAAL,CAAW,IAAX,CAAgB,gBAAgB,CAAC,QAAD,CAAhC;AACH;AACJ;AACJ;;;AACJ;;AACL,SAAA,6BAAA;AAAC,CArBD,CAAmD,mBAAnD,CAAA;;AAAa,OAAA,CAAA,6BAAA,GAAA,6BAAA","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseKontentResponseArrayDebug = exports.BaseKontentResponseStandardDebug = exports.BaseKontentResponse = void 0;\r\nvar staleContentHeaderName = 'X-Stale-Content';\r\nfunction getHasStaleContent(response) {\r\n    var hasStaleContentHeader = response.headers.find(function (m) { return m.header.toLowerCase() === staleContentHeaderName.toLowerCase(); });\r\n    if (hasStaleContentHeader) {\r\n        if (hasStaleContentHeader.value.toString() === '1') {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction getResponseDebug(response) {\r\n    return {\r\n        response: response.response,\r\n        headers: response.headers,\r\n        status: response.status\r\n    };\r\n}\r\nvar BaseKontentResponse = /** @class */ (function () {\r\n    function BaseKontentResponse() {\r\n    }\r\n    return BaseKontentResponse;\r\n}());\r\nexports.BaseKontentResponse = BaseKontentResponse;\r\nvar BaseKontentResponseStandardDebug = /** @class */ (function (_super) {\r\n    __extends(BaseKontentResponseStandardDebug, _super);\r\n    function BaseKontentResponseStandardDebug(response, isDeveloperMode) {\r\n        var _this = _super.call(this) || this;\r\n        _this.hasStaleContent = getHasStaleContent(response);\r\n        _this.isDeveloperMode = isDeveloperMode;\r\n        if (isDeveloperMode) {\r\n            _this.debug = getResponseDebug(response);\r\n        }\r\n        return _this;\r\n    }\r\n    return BaseKontentResponseStandardDebug;\r\n}(BaseKontentResponse));\r\nexports.BaseKontentResponseStandardDebug = BaseKontentResponseStandardDebug;\r\nvar BaseKontentResponseArrayDebug = /** @class */ (function (_super) {\r\n    __extends(BaseKontentResponseArrayDebug, _super);\r\n    function BaseKontentResponseArrayDebug(responses, isDeveloperMode) {\r\n        var _this = _super.call(this) || this;\r\n        _this.debug = [];\r\n        /**\r\n         * Always false for joined response data\r\n         */\r\n        _this.hasStaleContent = false;\r\n        _this.isDeveloperMode = isDeveloperMode;\r\n        if (isDeveloperMode) {\r\n            for (var _i = 0, responses_1 = responses; _i < responses_1.length; _i++) {\r\n                var response = responses_1[_i];\r\n                if (_this.debug) {\r\n                    _this.debug.push(getResponseDebug(response));\r\n                }\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    return BaseKontentResponseArrayDebug;\r\n}(BaseKontentResponse));\r\nexports.BaseKontentResponseArrayDebug = BaseKontentResponseArrayDebug;\r\n//# sourceMappingURL=base-responses.js.map"]},"metadata":{},"sourceType":"script"}