{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.postCallback = exports.deleteCallback = exports.patchCallback = exports.putCallback = exports.getCallback = exports.registerRequestInterceptor = exports.registerResponseInterceptor = void 0;\n\nvar http_debugger_1 = require(\"./http.debugger\");\n\nfunction registerResponseInterceptor(instance, interceptor) {\n  instance.interceptors.response.use(function (response) {\n    return interceptor(response);\n  }, function (error) {\n    return Promise.reject(error);\n  });\n}\n\nexports.registerResponseInterceptor = registerResponseInterceptor;\n\nfunction registerRequestInterceptor(instance, interceptor) {\n  // Add a request interceptor\n  instance.interceptors.request.use(function (config) {\n    return interceptor(config);\n  }, function (error) {\n    return Promise.reject(error);\n  });\n}\n\nexports.registerRequestInterceptor = registerRequestInterceptor;\n\nfunction getCallback(instance, call, options) {\n  http_debugger_1.httpDebugger.debugStartHttpRequest();\n  var axiosPromise = instance.get(call.url, {\n    headers: getHeadersJson(options && options.headers ? options.headers : [], false),\n    responseType: options && options.responseType ? options.responseType : undefined\n  });\n  return mapRequestResult(axiosPromise);\n}\n\nexports.getCallback = getCallback;\n\nfunction putCallback(instance, call, options) {\n  http_debugger_1.httpDebugger.debugStartHttpRequest();\n  var axiosPromise = instance.put(call.url, call.body, {\n    headers: getHeadersJson(options && options.headers ? options.headers : [], true),\n    responseType: options && options.responseType ? options.responseType : undefined\n  });\n  return mapRequestResult(axiosPromise);\n}\n\nexports.putCallback = putCallback;\n\nfunction patchCallback(instance, call, options) {\n  http_debugger_1.httpDebugger.debugStartHttpRequest();\n  var axiosPromise = instance.patch(call.url, call.body, {\n    headers: getHeadersJson(options && options.headers ? options.headers : [], true),\n    responseType: options && options.responseType ? options.responseType : undefined\n  });\n  return mapRequestResult(axiosPromise);\n}\n\nexports.patchCallback = patchCallback;\n\nfunction deleteCallback(instance, call, options) {\n  http_debugger_1.httpDebugger.debugStartHttpRequest();\n  var axiosPromise = instance.delete(call.url, {\n    headers: getHeadersJson(options && options.headers ? options.headers : [], true),\n    responseType: options && options.responseType ? options.responseType : undefined\n  });\n  return mapRequestResult(axiosPromise);\n}\n\nexports.deleteCallback = deleteCallback;\n\nfunction postCallback(instance, call, options) {\n  http_debugger_1.httpDebugger.debugStartHttpRequest();\n  var axiosPromise = instance.post(call.url, call.body, {\n    headers: getHeadersJson(options && options.headers ? options.headers : [], true),\n    responseType: options && options.responseType ? options.responseType : undefined\n  });\n  return mapRequestResult(axiosPromise);\n}\n\nexports.postCallback = postCallback;\n\nfunction getHeadersJson(headers, addContentTypeHeader) {\n  var headerJson = {};\n  headers.forEach(function (header) {\n    headerJson[header.header] = header.value;\n  });\n\n  if (addContentTypeHeader) {\n    // add default content type header if not present\n    var contentTypeHeader = headers.find(function (m) {\n      return m.header.toLowerCase() === 'Content-Type'.toLowerCase();\n    });\n\n    if (!contentTypeHeader) {\n      headerJson['Content-Type'] = 'application/json';\n    }\n  }\n\n  return headerJson;\n}\n\nfunction mapRequestResult(promise) {\n  return promise.then(function (response) {\n    http_debugger_1.httpDebugger.debugResolveHttpRequest();\n    return {\n      response: response\n    };\n  }, function (error) {\n    http_debugger_1.httpDebugger.debugFailedHttpRequest();\n    return {\n      error: error\n    };\n  });\n}","map":{"version":3,"sources":["../../lib/http/http.functions.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.postCallback = exports.deleteCallback = exports.patchCallback = exports.putCallback = exports.getCallback = exports.registerRequestInterceptor = exports.registerResponseInterceptor = void 0;\r\nvar http_debugger_1 = require(\"./http.debugger\");\r\nfunction registerResponseInterceptor(instance, interceptor) {\r\n    instance.interceptors.response.use(function (response) {\r\n        return interceptor(response);\r\n    }, function (error) {\r\n        return Promise.reject(error);\r\n    });\r\n}\r\nexports.registerResponseInterceptor = registerResponseInterceptor;\r\nfunction registerRequestInterceptor(instance, interceptor) {\r\n    // Add a request interceptor\r\n    instance.interceptors.request.use(function (config) {\r\n        return interceptor(config);\r\n    }, function (error) {\r\n        return Promise.reject(error);\r\n    });\r\n}\r\nexports.registerRequestInterceptor = registerRequestInterceptor;\r\nfunction getCallback(instance, call, options) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.get(call.url, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], false),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    return mapRequestResult(axiosPromise);\r\n}\r\nexports.getCallback = getCallback;\r\nfunction putCallback(instance, call, options) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.put(call.url, call.body, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], true),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    return mapRequestResult(axiosPromise);\r\n}\r\nexports.putCallback = putCallback;\r\nfunction patchCallback(instance, call, options) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.patch(call.url, call.body, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], true),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    return mapRequestResult(axiosPromise);\r\n}\r\nexports.patchCallback = patchCallback;\r\nfunction deleteCallback(instance, call, options) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.delete(call.url, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], true),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    return mapRequestResult(axiosPromise);\r\n}\r\nexports.deleteCallback = deleteCallback;\r\nfunction postCallback(instance, call, options) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.post(call.url, call.body, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], true),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    return mapRequestResult(axiosPromise);\r\n}\r\nexports.postCallback = postCallback;\r\nfunction getHeadersJson(headers, addContentTypeHeader) {\r\n    var headerJson = {};\r\n    headers.forEach(function (header) {\r\n        headerJson[header.header] = header.value;\r\n    });\r\n    if (addContentTypeHeader) {\r\n        // add default content type header if not present\r\n        var contentTypeHeader = headers.find(function (m) { return m.header.toLowerCase() === 'Content-Type'.toLowerCase(); });\r\n        if (!contentTypeHeader) {\r\n            headerJson['Content-Type'] = 'application/json';\r\n        }\r\n    }\r\n    return headerJson;\r\n}\r\nfunction mapRequestResult(promise) {\r\n    return promise.then(function (response) {\r\n        http_debugger_1.httpDebugger.debugResolveHttpRequest();\r\n        return {\r\n            response: response\r\n        };\r\n    }, function (error) {\r\n        http_debugger_1.httpDebugger.debugFailedHttpRequest();\r\n        return {\r\n            error: error\r\n        };\r\n    });\r\n}\r\n//# sourceMappingURL=http.functions.js.map"]},"metadata":{},"sourceType":"script"}