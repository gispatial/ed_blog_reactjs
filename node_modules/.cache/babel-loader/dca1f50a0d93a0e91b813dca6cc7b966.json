{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Filters = void 0;\nvar Filters;\n\n(function (Filters) {\n  var valueSeparator = ',';\n  var defaultValue = '';\n\n  var getParamValueForSystemFilter = function (param) {\n    if (!param) {\n      return defaultValue;\n    }\n\n    if (Array.isArray(param)) {\n      var value = ''; // use [in] filter\n\n      for (var i = 0; i < param.length; i++) {\n        value = value + param[i].toString();\n\n        if (i !== param.length - 1) {\n          // append separator if its not last item\n          value = value + valueSeparator;\n        }\n      }\n\n      return value;\n    } // single param was given\n\n\n    return param.toString();\n  };\n\n  var TypeFilter =\n  /** @class */\n  function () {\n    function TypeFilter(type) {\n      this.type = type;\n    }\n\n    TypeFilter.prototype.getParam = function () {\n      if (Array.isArray(this.type)) {\n        // multiple types\n        return \"system.type[in]=\" + getParamValueForSystemFilter(this.type);\n      } // single type\n\n\n      return \"system.type=\" + getParamValueForSystemFilter(this.type);\n    };\n\n    return TypeFilter;\n  }();\n\n  Filters.TypeFilter = TypeFilter;\n\n  var CollectionFilter =\n  /** @class */\n  function () {\n    function CollectionFilter(collection) {\n      this.collection = collection;\n    }\n\n    CollectionFilter.prototype.getParam = function () {\n      if (Array.isArray(this.collection)) {\n        // multiple collections\n        return \"system.collection[in]=\" + getParamValueForSystemFilter(this.collection);\n      } // single collection\n\n\n      return \"system.collection=\" + getParamValueForSystemFilter(this.collection);\n    };\n\n    return CollectionFilter;\n  }();\n\n  Filters.CollectionFilter = CollectionFilter;\n\n  var EmptyFilter =\n  /** @class */\n  function () {\n    function EmptyFilter(element) {\n      this.element = element;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'EmptyFilter' is undefined \");\n      }\n    }\n\n    EmptyFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[empty]\";\n    };\n\n    return EmptyFilter;\n  }();\n\n  Filters.EmptyFilter = EmptyFilter;\n\n  var NotEmptyFilter =\n  /** @class */\n  function () {\n    function NotEmptyFilter(element) {\n      this.element = element;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'NotEmptyFilter' is undefined \");\n      }\n    }\n\n    NotEmptyFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[nempty]\";\n    };\n\n    return NotEmptyFilter;\n  }();\n\n  Filters.NotEmptyFilter = NotEmptyFilter;\n\n  var EqualsFilter =\n  /** @class */\n  function () {\n    function EqualsFilter(element, value) {\n      this.element = element;\n      this.value = value;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'EqualsFilter' is undefined \");\n      }\n    }\n\n    EqualsFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[eq]=\" + this.getParamValue();\n    };\n\n    EqualsFilter.prototype.getParamValue = function () {\n      if (!this.value) {\n        return defaultValue;\n      }\n\n      return this.value;\n    };\n\n    return EqualsFilter;\n  }();\n\n  Filters.EqualsFilter = EqualsFilter;\n\n  var NotEqualsFilter =\n  /** @class */\n  function () {\n    function NotEqualsFilter(element, value) {\n      this.element = element;\n      this.value = value;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'NotEqualsFilter' is undefined \");\n      }\n    }\n\n    NotEqualsFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[neq]=\" + this.getParamValue();\n    };\n\n    NotEqualsFilter.prototype.getParamValue = function () {\n      if (!this.value) {\n        return defaultValue;\n      }\n\n      return this.value;\n    };\n\n    return NotEqualsFilter;\n  }();\n\n  Filters.NotEqualsFilter = NotEqualsFilter;\n\n  var AllFilter =\n  /** @class */\n  function () {\n    function AllFilter(element, values) {\n      this.element = element;\n      this.values = values;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'AllFilter' is undefined \");\n      }\n    }\n\n    AllFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[all]=\" + this.getParamValue();\n    };\n\n    AllFilter.prototype.getParamValue = function () {\n      if (!this.values || !Array.isArray(this.values)) {\n        return defaultValue;\n      }\n\n      return this.values.map(function (m) {\n        return m.trim();\n      }).join(',');\n    };\n\n    return AllFilter;\n  }();\n\n  Filters.AllFilter = AllFilter;\n\n  var AnyFilter =\n  /** @class */\n  function () {\n    function AnyFilter(element, values) {\n      this.element = element;\n      this.values = values;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'AnyFilter' is undefined \");\n      }\n    }\n\n    AnyFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[any]=\" + this.getParamValue();\n    };\n\n    AnyFilter.prototype.getParamValue = function () {\n      if (!this.values || !Array.isArray(this.values)) {\n        return defaultValue;\n      }\n\n      return this.values.map(function (m) {\n        return m.trim();\n      }).join(',');\n    };\n\n    return AnyFilter;\n  }();\n\n  Filters.AnyFilter = AnyFilter;\n\n  var ContainsFilter =\n  /** @class */\n  function () {\n    function ContainsFilter(element, values) {\n      this.element = element;\n      this.values = values;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'ContainsFilter' is undefined \");\n      }\n    }\n\n    ContainsFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[contains]=\" + this.getParamValue();\n    };\n\n    ContainsFilter.prototype.getParamValue = function () {\n      if (!this.values || !Array.isArray(this.values)) {\n        return defaultValue;\n      }\n\n      return this.values.map(function (m) {\n        return m.trim();\n      }).join(',');\n    };\n\n    return ContainsFilter;\n  }();\n\n  Filters.ContainsFilter = ContainsFilter;\n\n  var GreaterThanFilter =\n  /** @class */\n  function () {\n    function GreaterThanFilter(element, value) {\n      this.element = element;\n      this.value = value;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'GreaterThanFilter' is undefined \");\n      }\n    }\n\n    GreaterThanFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[gt]=\" + this.getParamValue();\n    };\n\n    GreaterThanFilter.prototype.getParamValue = function () {\n      if (!this.value) {\n        return defaultValue;\n      }\n\n      return this.value;\n    };\n\n    return GreaterThanFilter;\n  }();\n\n  Filters.GreaterThanFilter = GreaterThanFilter;\n\n  var GreaterThanOrEqualFilter =\n  /** @class */\n  function () {\n    function GreaterThanOrEqualFilter(element, value) {\n      this.element = element;\n      this.value = value;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'GreaterThanOrEqualFilter' is undefined \");\n      }\n    }\n\n    GreaterThanOrEqualFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[gte]=\" + this.getParamValue();\n    };\n\n    GreaterThanOrEqualFilter.prototype.getParamValue = function () {\n      if (!this.value) {\n        return defaultValue;\n      }\n\n      return this.value;\n    };\n\n    return GreaterThanOrEqualFilter;\n  }();\n\n  Filters.GreaterThanOrEqualFilter = GreaterThanOrEqualFilter;\n\n  var InFilter =\n  /** @class */\n  function () {\n    function InFilter(element, values) {\n      this.element = element;\n      this.values = values;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'Infilter' is undefined\");\n      }\n    }\n\n    InFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[in]=\" + this.getParamValue();\n    };\n\n    InFilter.prototype.getParamValue = function () {\n      if (!this.values || !Array.isArray(this.values)) {\n        return defaultValue;\n      }\n\n      return this.values.map(function (m) {\n        return m.trim();\n      }).join(',');\n    };\n\n    return InFilter;\n  }();\n\n  Filters.InFilter = InFilter;\n\n  var NotInFilter =\n  /** @class */\n  function () {\n    function NotInFilter(element, values) {\n      this.element = element;\n      this.values = values;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'NotInFilter' is undefined\");\n      }\n    }\n\n    NotInFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[nin]=\" + this.getParamValue();\n    };\n\n    NotInFilter.prototype.getParamValue = function () {\n      if (!this.values || !Array.isArray(this.values)) {\n        return defaultValue;\n      }\n\n      return this.values.map(function (m) {\n        return m.trim();\n      }).join(',');\n    };\n\n    return NotInFilter;\n  }();\n\n  Filters.NotInFilter = NotInFilter;\n\n  var LessThanFilter =\n  /** @class */\n  function () {\n    function LessThanFilter(element, value) {\n      this.element = element;\n      this.value = value;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'LessThanFilter' is undefined \");\n      }\n    }\n\n    LessThanFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[lt]=\" + this.getParamValue();\n    };\n\n    LessThanFilter.prototype.getParamValue = function () {\n      if (!this.value) {\n        return defaultValue;\n      }\n\n      return this.value;\n    };\n\n    return LessThanFilter;\n  }();\n\n  Filters.LessThanFilter = LessThanFilter;\n\n  var LessThanOrEqualFilter =\n  /** @class */\n  function () {\n    function LessThanOrEqualFilter(element, value) {\n      this.element = element;\n      this.value = value;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'LessThanOrEqualFilter' is undefined \");\n      }\n    }\n\n    LessThanOrEqualFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[lte]=\" + this.getParamValue();\n    };\n\n    LessThanOrEqualFilter.prototype.getParamValue = function () {\n      if (!this.value) {\n        return defaultValue;\n      }\n\n      return this.value;\n    };\n\n    return LessThanOrEqualFilter;\n  }();\n\n  Filters.LessThanOrEqualFilter = LessThanOrEqualFilter;\n\n  var RangeFilter =\n  /** @class */\n  function () {\n    function RangeFilter(element, lowerValue, higherValue) {\n      this.element = element;\n      this.lowerValue = lowerValue;\n      this.higherValue = higherValue;\n\n      if (!this.element) {\n        throw Error(\"Element specified in 'RangeFilter' is undefined \");\n      }\n\n      if (lowerValue > higherValue) {\n        throw Error(\"'lowerValue' cannot be higher then 'higherValue' in 'RangeFilter'\");\n      }\n    }\n\n    RangeFilter.prototype.getParam = function () {\n      return this.element.trim() + \"[range]=\" + this.getParamValue();\n    };\n\n    RangeFilter.prototype.getParamValue = function () {\n      var lowerVal = defaultValue;\n      var higherVal = defaultValue;\n\n      if (this.lowerValue) {\n        lowerVal = this.lowerValue.toString();\n      }\n\n      if (this.higherValue) {\n        higherVal = this.higherValue.toString();\n      }\n\n      return lowerVal + \",\" + higherVal;\n    };\n\n    return RangeFilter;\n  }();\n\n  Filters.RangeFilter = RangeFilter;\n})(Filters = exports.Filters || (exports.Filters = {}));","map":{"version":3,"sources":["../../../lib/models/common/filters.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Filters = void 0;\r\nvar Filters;\r\n(function (Filters) {\r\n    var valueSeparator = ',';\r\n    var defaultValue = '';\r\n    var getParamValueForSystemFilter = function (param) {\r\n        if (!param) {\r\n            return defaultValue;\r\n        }\r\n        if (Array.isArray(param)) {\r\n            var value = '';\r\n            // use [in] filter\r\n            for (var i = 0; i < param.length; i++) {\r\n                value = value + param[i].toString();\r\n                if (i !== param.length - 1) {\r\n                    // append separator if its not last item\r\n                    value = value + valueSeparator;\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n        // single param was given\r\n        return param.toString();\r\n    };\r\n    var TypeFilter = /** @class */ (function () {\r\n        function TypeFilter(type) {\r\n            this.type = type;\r\n        }\r\n        TypeFilter.prototype.getParam = function () {\r\n            if (Array.isArray(this.type)) {\r\n                // multiple types\r\n                return \"system.type[in]=\" + getParamValueForSystemFilter(this.type);\r\n            }\r\n            // single type\r\n            return \"system.type=\" + getParamValueForSystemFilter(this.type);\r\n        };\r\n        return TypeFilter;\r\n    }());\r\n    Filters.TypeFilter = TypeFilter;\r\n    var CollectionFilter = /** @class */ (function () {\r\n        function CollectionFilter(collection) {\r\n            this.collection = collection;\r\n        }\r\n        CollectionFilter.prototype.getParam = function () {\r\n            if (Array.isArray(this.collection)) {\r\n                // multiple collections\r\n                return \"system.collection[in]=\" + getParamValueForSystemFilter(this.collection);\r\n            }\r\n            // single collection\r\n            return \"system.collection=\" + getParamValueForSystemFilter(this.collection);\r\n        };\r\n        return CollectionFilter;\r\n    }());\r\n    Filters.CollectionFilter = CollectionFilter;\r\n    var EmptyFilter = /** @class */ (function () {\r\n        function EmptyFilter(element) {\r\n            this.element = element;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'EmptyFilter' is undefined \");\r\n            }\r\n        }\r\n        EmptyFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[empty]\";\r\n        };\r\n        return EmptyFilter;\r\n    }());\r\n    Filters.EmptyFilter = EmptyFilter;\r\n    var NotEmptyFilter = /** @class */ (function () {\r\n        function NotEmptyFilter(element) {\r\n            this.element = element;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'NotEmptyFilter' is undefined \");\r\n            }\r\n        }\r\n        NotEmptyFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[nempty]\";\r\n        };\r\n        return NotEmptyFilter;\r\n    }());\r\n    Filters.NotEmptyFilter = NotEmptyFilter;\r\n    var EqualsFilter = /** @class */ (function () {\r\n        function EqualsFilter(element, value) {\r\n            this.element = element;\r\n            this.value = value;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'EqualsFilter' is undefined \");\r\n            }\r\n        }\r\n        EqualsFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[eq]=\" + this.getParamValue();\r\n        };\r\n        EqualsFilter.prototype.getParamValue = function () {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n            return this.value;\r\n        };\r\n        return EqualsFilter;\r\n    }());\r\n    Filters.EqualsFilter = EqualsFilter;\r\n    var NotEqualsFilter = /** @class */ (function () {\r\n        function NotEqualsFilter(element, value) {\r\n            this.element = element;\r\n            this.value = value;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'NotEqualsFilter' is undefined \");\r\n            }\r\n        }\r\n        NotEqualsFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[neq]=\" + this.getParamValue();\r\n        };\r\n        NotEqualsFilter.prototype.getParamValue = function () {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n            return this.value;\r\n        };\r\n        return NotEqualsFilter;\r\n    }());\r\n    Filters.NotEqualsFilter = NotEqualsFilter;\r\n    var AllFilter = /** @class */ (function () {\r\n        function AllFilter(element, values) {\r\n            this.element = element;\r\n            this.values = values;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'AllFilter' is undefined \");\r\n            }\r\n        }\r\n        AllFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[all]=\" + this.getParamValue();\r\n        };\r\n        AllFilter.prototype.getParamValue = function () {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n            return this.values.map(function (m) { return m.trim(); }).join(',');\r\n        };\r\n        return AllFilter;\r\n    }());\r\n    Filters.AllFilter = AllFilter;\r\n    var AnyFilter = /** @class */ (function () {\r\n        function AnyFilter(element, values) {\r\n            this.element = element;\r\n            this.values = values;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'AnyFilter' is undefined \");\r\n            }\r\n        }\r\n        AnyFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[any]=\" + this.getParamValue();\r\n        };\r\n        AnyFilter.prototype.getParamValue = function () {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n            return this.values.map(function (m) { return m.trim(); }).join(',');\r\n        };\r\n        return AnyFilter;\r\n    }());\r\n    Filters.AnyFilter = AnyFilter;\r\n    var ContainsFilter = /** @class */ (function () {\r\n        function ContainsFilter(element, values) {\r\n            this.element = element;\r\n            this.values = values;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'ContainsFilter' is undefined \");\r\n            }\r\n        }\r\n        ContainsFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[contains]=\" + this.getParamValue();\r\n        };\r\n        ContainsFilter.prototype.getParamValue = function () {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n            return this.values.map(function (m) { return m.trim(); }).join(',');\r\n        };\r\n        return ContainsFilter;\r\n    }());\r\n    Filters.ContainsFilter = ContainsFilter;\r\n    var GreaterThanFilter = /** @class */ (function () {\r\n        function GreaterThanFilter(element, value) {\r\n            this.element = element;\r\n            this.value = value;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'GreaterThanFilter' is undefined \");\r\n            }\r\n        }\r\n        GreaterThanFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[gt]=\" + this.getParamValue();\r\n        };\r\n        GreaterThanFilter.prototype.getParamValue = function () {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n            return this.value;\r\n        };\r\n        return GreaterThanFilter;\r\n    }());\r\n    Filters.GreaterThanFilter = GreaterThanFilter;\r\n    var GreaterThanOrEqualFilter = /** @class */ (function () {\r\n        function GreaterThanOrEqualFilter(element, value) {\r\n            this.element = element;\r\n            this.value = value;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'GreaterThanOrEqualFilter' is undefined \");\r\n            }\r\n        }\r\n        GreaterThanOrEqualFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[gte]=\" + this.getParamValue();\r\n        };\r\n        GreaterThanOrEqualFilter.prototype.getParamValue = function () {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n            return this.value;\r\n        };\r\n        return GreaterThanOrEqualFilter;\r\n    }());\r\n    Filters.GreaterThanOrEqualFilter = GreaterThanOrEqualFilter;\r\n    var InFilter = /** @class */ (function () {\r\n        function InFilter(element, values) {\r\n            this.element = element;\r\n            this.values = values;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'Infilter' is undefined\");\r\n            }\r\n        }\r\n        InFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[in]=\" + this.getParamValue();\r\n        };\r\n        InFilter.prototype.getParamValue = function () {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n            return this.values.map(function (m) {\r\n                return m.trim();\r\n            }).join(',');\r\n        };\r\n        return InFilter;\r\n    }());\r\n    Filters.InFilter = InFilter;\r\n    var NotInFilter = /** @class */ (function () {\r\n        function NotInFilter(element, values) {\r\n            this.element = element;\r\n            this.values = values;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'NotInFilter' is undefined\");\r\n            }\r\n        }\r\n        NotInFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[nin]=\" + this.getParamValue();\r\n        };\r\n        NotInFilter.prototype.getParamValue = function () {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n            return this.values.map(function (m) {\r\n                return m.trim();\r\n            }).join(',');\r\n        };\r\n        return NotInFilter;\r\n    }());\r\n    Filters.NotInFilter = NotInFilter;\r\n    var LessThanFilter = /** @class */ (function () {\r\n        function LessThanFilter(element, value) {\r\n            this.element = element;\r\n            this.value = value;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'LessThanFilter' is undefined \");\r\n            }\r\n        }\r\n        LessThanFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[lt]=\" + this.getParamValue();\r\n        };\r\n        LessThanFilter.prototype.getParamValue = function () {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n            return this.value;\r\n        };\r\n        return LessThanFilter;\r\n    }());\r\n    Filters.LessThanFilter = LessThanFilter;\r\n    var LessThanOrEqualFilter = /** @class */ (function () {\r\n        function LessThanOrEqualFilter(element, value) {\r\n            this.element = element;\r\n            this.value = value;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'LessThanOrEqualFilter' is undefined \");\r\n            }\r\n        }\r\n        LessThanOrEqualFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[lte]=\" + this.getParamValue();\r\n        };\r\n        LessThanOrEqualFilter.prototype.getParamValue = function () {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n            return this.value;\r\n        };\r\n        return LessThanOrEqualFilter;\r\n    }());\r\n    Filters.LessThanOrEqualFilter = LessThanOrEqualFilter;\r\n    var RangeFilter = /** @class */ (function () {\r\n        function RangeFilter(element, lowerValue, higherValue) {\r\n            this.element = element;\r\n            this.lowerValue = lowerValue;\r\n            this.higherValue = higherValue;\r\n            if (!this.element) {\r\n                throw Error(\"Element specified in 'RangeFilter' is undefined \");\r\n            }\r\n            if (lowerValue > higherValue) {\r\n                throw Error(\"'lowerValue' cannot be higher then 'higherValue' in 'RangeFilter'\");\r\n            }\r\n        }\r\n        RangeFilter.prototype.getParam = function () {\r\n            return this.element.trim() + \"[range]=\" + this.getParamValue();\r\n        };\r\n        RangeFilter.prototype.getParamValue = function () {\r\n            var lowerVal = defaultValue;\r\n            var higherVal = defaultValue;\r\n            if (this.lowerValue) {\r\n                lowerVal = this.lowerValue.toString();\r\n            }\r\n            if (this.higherValue) {\r\n                higherVal = this.higherValue.toString();\r\n            }\r\n            return lowerVal + \",\" + higherVal;\r\n        };\r\n        return RangeFilter;\r\n    }());\r\n    Filters.RangeFilter = RangeFilter;\r\n})(Filters = exports.Filters || (exports.Filters = {}));\r\n//# sourceMappingURL=filters.js.map"]},"metadata":{},"sourceType":"script"}